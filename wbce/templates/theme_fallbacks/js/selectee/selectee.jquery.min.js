/**
    Selectee jQuery Plugin
    A plugin for select elements
    version 1.0, Jan 31st, 2024

    The MIT License (MIT)

    Copyright (c) 2013 QODIO [Selectator]
    Copyright (c) 2024 WebDesignWorx [Selectee]
 */
!function(e){"use strict";e.selectee=function(t,n){var i={prefix:"selectee_",customSelector:"",height:"auto",useDimmer:!0,useSearch:!0,showAllOptionsOnFocus:!1,selectFirstOptionOnSearch:!0,keepOpen:!1,submitCallback:function(){},load:null,delay:0,minSearchLength:0,valueField:"value",textField:"text",searchFields:["value","text"],placeholder:"",render:{selected_item:function(e,t){let n="";return void 0!==e.left&&(n+=`<div class="${o.options.prefix}selected_item_left"><img src="${t(e.left)}" alt=""></div>`),void 0!==e.right&&(n+=`<div class="${o.options.prefix}selected_item_right">${t(e.right)}</div>`),n+=`<div class="${o.options.prefix}selected_item_title">${void 0!==e.text?t(e.text):""}</div>`,void 0!==e.subtitle&&(n+=`<div class="${o.options.prefix}selected_item_subtitle">${t(e.subtitle)}</div>`),n+=`<div class="${o.options.prefix}selected_item_remove">X</div>`,n},option:function(e,t){let n="";return void 0!==e.left&&(n+=`<div class="${o.options.prefix}option_left"><img src="${t(e.left)}" alt=""></div>`),void 0!==e.right&&(n+=`<div class="${o.options.prefix}option_right">${t(e.right)}</div>`),n+=`<div class="${o.options.prefix}option_title">${void 0!==e.text?t(e.text):""}</div>`,void 0!==e.subtitle&&(n+=`<div class="${o.options.prefix}option_subtitle">${t(e.subtitle)}</div>`),n}},labels:{search:"Search..."}},o=this;o.options={},o.$source_element=e(t),o.$container_element=null,o.$selecteditems_element=null,o.$input_element=null,o.$textlength_element=null,o.$options_element=null,o.$mask_element=null,o.usefilterResults=!0;var s=void 0===o.$source_element.attr("multiple"),l=!s,a=!1,c=!0,r=null,p=8,d=9,m=13,u=16,_=27,h=37,$=38,f=39,v=40;o.init=function(){o.options=e.extend(!0,{},i,n),e.each(o.$source_element.data(),(function(e,t){"selectee"===e.substring(0,10)&&(o.options[e.substring(10,11).toLowerCase()+e.substring(11)]=t)})),o.options.searchFields="string"==typeof o.options.searchFields?o.options.searchFields.split(" "):o.options.searchFields,o.$source_element.find("option").each((function(){e(this).data("value",this.value),e(this).data("text",this.text)})),a=null!==o.options.load;var t=o.$source_element.attr("data-search-label")||o.options.labels.search;o.$mask_element=e("#"+o.options.prefix+"mask"),0===o.$mask_element.length&&(o.$mask_element=e(document.createElement("div")),o.$mask_element.attr("id",o.options.prefix+"mask"),o.$mask_element.attr("onclick","void(0)"),o.$mask_element.on("click",(function(){e(":focus").blur()})),o.$mask_element.hide(),e(document.body).prepend(o.$mask_element)),o.$source_element.addClass("selectee"),o.$source_element.attr("placeholder")&&(o.options.placeholder=o.$source_element.attr("placeholder")),o.$container_element=e(document.createElement("div")),void 0!==o.$source_element.attr("id")&&o.$container_element.attr("id",o.options.prefix+o.$source_element.attr("id")),o.$container_element.addClass(o.options.customSelector+" "+o.options.prefix+"element "+(l?"multiple ":"single ")+"options-hidden"),o.options.useSearch||o.$container_element.addClass("disable_search"),o.$container_element.css({width:o.$source_element.css("width"),minHeight:o.$source_element.css("height"),padding:o.$source_element.css("padding"),"flex-grow":o.$source_element.css("flex-grow"),position:"relative"}),"element"===o.options.height&&o.$container_element.css({height:o.$source_element.outerHeight()+"px"}),o.$textlength_element=e(document.createElement("span")),o.$textlength_element.addClass(o.options.prefix+"textlength"),o.$textlength_element.css({position:"absolute",visibility:"hidden"}),o.$container_element.append(o.$textlength_element),o.$selecteditems_element=e(document.createElement("div")),o.$selecteditems_element.addClass(o.options.prefix+"selected_items"),o.$container_element.append(o.$selecteditems_element),o.$input_element=e(document.createElement("input")),o.$input_element.addClass(o.options.prefix+"input"),o.$input_element.attr("tabindex",o.$source_element.attr("tabindex")),o.options.useSearch?s?o.$input_element.attr("placeholder",t):(""!==o.options.placeholder&&o.$input_element.attr("placeholder",o.options.placeholder),o.$input_element.width(20)):(o.$input_element.attr("readonly",!0),o.$input_element.css({width:"0px",height:"0px",overflow:"hidden",border:0,padding:0,position:"absolute"})),o.$input_element.attr("autocomplete","false"),o.$container_element.append(o.$input_element),o.$options_element=e(document.createElement("ul")),o.$options_element.addClass(o.options.prefix+"options"),o.$container_element.append(o.$options_element),o.$source_element.after(o.$container_element),o.$source_element.hide(),o.$source_element.change((function(){x()})),o.$container_element.on("focus",(function(){o.$container_element.hasClass("options-visible")?(_e.stopPropagation(),S()):(o.$input_element.focus(),o.$input_element.trigger("focus"))})),o.$container_element.on("mousedown",(function(e){if(e.preventDefault(),o.$container_element.hasClass("options-visible"))e.stopPropagation(),S();else if(o.$input_element.focus(),o.$input_element.trigger("focus"),o.$input_element[0].setSelectionRange)o.$input_element[0].setSelectionRange(o.$input_element.val().length,o.$input_element.val().length);else if(o.$input_element[0].createTextRange){var t=o.$input_element[0].createTextRange();t.collapse(!0),t.moveEnd("character",o.$input_element.val().length),t.moveStart("character",o.$input_element.val().length),t.select()}})),o.$container_element.on("click",(function(){o.$container_element.hasClass("options-hidden")?S():(o.$input_element.focus(),o.$input_element.trigger("focus"))})),o.$container_element.on("dblclick",(function(){o.$input_element.select(),o.$input_element.trigger("focus")})),o.$input_element.on("keydown",(function(e){var t=null,n=null;switch(e.keyCode||e.which){case $:e.preventDefault(),y(),0!==(t=o.$options_element.find(".active")).length?(n=t.prevUntil("."+o.options.prefix+"option:visible").add(t).first().prev("."+o.options.prefix+"option:visible"),t.removeClass("active"),n.addClass("active")):o.$options_element.find("."+o.options.prefix+"option").filter(":visible").last().addClass("active"),F();break;case v:e.preventDefault(),y(),0!==(t=o.$options_element.find(".active")).length?(n=t.nextUntil("."+o.options.prefix+"option:visible").add(t).last().next("."+o.options.prefix+"option:visible"),t.removeClass("active"),n.addClass("active")):o.$options_element.find("."+o.options.prefix+"option").filter(":visible").first().addClass("active"),F();break;case _:e.preventDefault();break;case m:e.preventDefault(),0!==(t=o.$options_element.find(".active")).length?D():""!==o.$input_element.val()&&o.options.submitCallback(o.$input_element.val()),g();break;case p:if(o.options.useSearch){if(""===o.$input_element.val()&&l&&o.$source_element.find("option:selected").length){var i=o.$source_element.find("option:selected").last()[0];i.removeAttribute("selected"),i.selected=!1,o.$source_element.trigger("change"),x()}g()}else e.preventDefault();break;default:g()}})),o.$input_element.on("keyup",(function(e){e.preventDefault(),e.stopPropagation();var t=e.which;switch(t){case _:S();break;case m:o.options.keepOpen||S();break;case h:case f:case $:case v:case d:case u:break;default:k()}!o.$container_element.hasClass("options-hidden")||t!==h&&t!==f&&t!==$&&t!==v||y(),g()})),o.$input_element.on("focus",(function(e){o.$container_element.addClass("focused"),(s||o.options.showAllOptionsOnFocus||!o.options.useSearch)&&(!o.options.useSearch&&a&&k(),e.stopPropagation(),y())})),o.$input_element.on("blur",(function(e){o.$container_element.removeClass("focused"),e.stopPropagation(),S()})),o.$container_element.on("mousedown","."+o.options.prefix+"selected_item_remove",(function(e){e.preventDefault(),e.stopPropagation(),o.removeSelection()})),o.$container_element.on("mouseover","."+o.options.prefix+"option",(function(){o.$options_element.find(".active").removeClass("active"),e(this).addClass("active")})),o.$container_element.on("mousedown","."+o.options.prefix+"option",(function(e){e.preventDefault(),e.stopPropagation()})),o.$container_element.on("mouseup","."+o.options.prefix+"option",(function(){D()})),o.$container_element.on("click","."+o.options.prefix+"option",(function(t){t.stopPropagation(),o.$options_element.find(".active").removeClass("active"),e(this).addClass("active")})),o.options.$source_element=o.$source_element,o.options.$container_element=o.$container_element,o.options.$selecteditems_element=o.$selecteditems_element,o.options.$input_element=o.$input_element,o.options.$textlength_element=o.$textlength_element,o.options.$options_element=o.$options_element,b(),x(),g()};var g=function(){if(l){o.$textlength_element.text(""===o.$input_element.val()&&""!==o.options.placeholder?o.options.placeholder:o.$input_element.val());var e=o.$textlength_element.width()>o.$container_element.width()-30?o.$container_element.width()-30:o.$textlength_element.width()+30;o.$input_element.css({width:e+"px"})}},x=function(){o.$selecteditems_element.empty(),o.$source_element.find("option").each((function(){var t=e(this);if(this.selected){var n=e(document.createElement("div"));n.data("source_item_element",this),n.addClass(o.options.prefix+"selected_item"),n.addClass(o.options.prefix+"value_"+t.val().replace(/\W/g,"")),void 0!==t.attr("class")&&n.addClass(t.attr("class"));var i={value:this.value,text:this.text,icon:t.data("icon"),class:t.data("class")};e.each(this.attributes,(function(){this.specified&&(i[this.name.replace("data-","")]=this.value)})),e.extend(i,e(this).data("item_data")),n.append(o.options.render.selected_item(i,O)),!s||""!==i[o.options.valueField]&&void 0!==i[o.options.valueField]&&0!==o.$source_element.find('[value=""]').length||n.find("."+o.options.prefix+"selected_item_remove").remove(),i.icon&&t.append('<i class="'+i.icon+'"></i>'),i.class&&t.addClass(i.class),o.$selecteditems_element.append(n)}})),s&&(""===o.options.placeholder||""!==o.$source_element.val()&&null!==o.$source_element.val()?o.$selecteditems_element.find("."+o.options.prefix+"placeholder").remove():(o.$selecteditems_element.empty(),o.$selecteditems_element.append('<div class="'+o.options.prefix+'placeholder">'+o.options.placeholder+"</div>")))},b=function(){o.$options_element.empty();var t=[];o.$source_element.children().each((function(){if("optgroup"===e(this).prop("tagName").toLowerCase()){var n=e(this);if(0!==n.children("option").length){var i=[];n.children("option").each((function(){i.push({type:"option",text:e(this).html(),element:this})})),t.push({type:"group",text:n.attr("label"),options:i,element:n})}}else t.push({type:"option",text:e(this).html(),element:this})})),e(t).each((function(){if("group"===this.type){var t=e(document.createElement("li"));t.addClass(o.options.prefix+"group"),void 0!==e(this.element).attr("class")&&t.addClass(e(this.element).attr("class")),t.html(e(this.element).attr("label")),o.$options_element.append(t),e(this.options).each((function(){var e=C.call(this.element,!0);o.$options_element.append(e)}))}else{var n=C.call(this.element,!1);o.$options_element.append(n)}})),w(o.usefilterResults)},C=function(t){var n=e(document.createElement("li"));n.data("source_option_element",this),n.attr("onclick","void(0)"),n.addClass(o.options.prefix+"option"),n.addClass(o.options.prefix+"value_"+e(this).val().replace(/\W/g,"")),t&&n.addClass(o.options.prefix+"group_option"),this.selected&&n.addClass("active"),void 0!==e(this).attr("class")&&n.addClass(e(this).attr("class"));var i={value:this.value,text:this.text,icon:e(this).data("icon"),class:e(this).data("class")};return e.each(this.attributes,(function(){this.specified&&(i[this.name.replace("data-","")]=this.value)})),e.extend(i,e(this).data("item_data")),l&&this.selected&&n.hide(),i.icon&&n.append('<i class="'+i.icon+'"></i>'),i.class&&n.addClass(i.class),n.append(o.options.render.option(i,O)),n},k=function(){clearTimeout(r),r=setTimeout((function(){o.$container_element.addClass("loading"),a?o.options.load(o.$input_element.val(),(function(t,n){if(o.usefilterResults=void 0!==n&&n,o.$source_element.children("option").not(":selected").not('[value=""]').remove(),void 0!==t){var i=[];if(e.each(o.$source_element.children("option:selected"),(function(e,t){i.push(t.value)})),s&&0===o.$source_element.find('[value=""]').length&&o.$source_element.prepend(e('<option value="">&nbsp;</option>')),o.$input_element.val().replace(/\s/g,"").length>=o.options.minSearchLength)for(var l=0;l<t.length;l++){var a=t[l];if(-1===e.inArray(a[o.options.valueField]+"",i)){var c=e('<option value="'+a[o.options.valueField]+'">'+a[o.options.textField]+"</option>");o.$source_element.append(c),c.data("item_data",a)}}}b(),o.$container_element.removeClass("loading"),w(o.usefilterResults)})):(o.$container_element.removeClass("loading"),w(o.usefilterResults))}),o.options.delay)},w=function(t){t=void 0!==t&&t;var n=o.$input_element.val().replace(/\s/g,"").length<o.options.minSearchLength;c=!1;var i=o.$input_element.val().toLowerCase();o.$options_element.find("."+o.options.prefix+"option").each((function(){var l=e(this),a=l.data("source_option_element"),r=e(a),p=!1;e.each(o.options.searchFields,(function(e,t){if(void 0!==r.data(t)&&-1!==r.data(t).toString().toLowerCase().indexOf(i))return p=!0,!1})),!t&&!a.selected||t&&(!a.selected||s)&&(o.options.useSearch&&(n||p||""===r.val())||!o.options.useSearch)?(l.show(),c=c||!0):l.hide()})),o.$options_element.find("."+o.options.prefix+"group").each((function(){var t=e(this),n=!1;t.nextUntil("."+o.options.prefix+"group").each((function(){if("none"!==e(this).css("display"))return n=!0,!1})),n?t.show():t.hide()})),y(),l&&(o.$options_element.find(".active").removeClass("active"),n||o.$options_element.find("."+o.options.prefix+"option").filter(":visible").first().addClass("active"))},y=function(){!o.$input_element.is(":focus")||!c&&!s||o.$options_element.is(":empty")&&!o.options.useSearch?S():(o.$container_element.removeClass("options-hidden").addClass("options-visible"),o.$mask_element.show(),o.options.useDimmer?o.$mask_element.addClass(o.options.prefix+"mask_dimmed"):o.$mask_element.removeClass(o.options.prefix+"mask_dimmed"),setTimeout((function(){o.$options_element.css("top",o.$container_element.outerHeight()+(l?0:o.$input_element.outerHeight())-1+"px")}),1),F())},S=function(e){o.$container_element.removeClass("options-visible").addClass("options-hidden"),o.$mask_element.removeClass(o.options.prefix+"mask_dimmed"),o.$mask_element.hide()},F=function(){var e=o.$options_element.find("."+o.options.prefix+"option.active");e.length>0&&o.$options_element.scrollTop(o.$options_element.scrollTop()+e.position().top-o.$options_element.height()/2+e.height()/2)},D=function(){if(s){var e=o.$source_element.find("option:selected").last()[0];e.removeAttribute("selected"),e.selected=!1}var t=o.$options_element.find(".active");t.data("source_option_element").setAttribute("selected",""),t.data("source_option_element").selected=!0,o.$source_element.trigger("change"),o.options.keepOpen||o.$input_element.val(""),w(o.usefilterResults),x(),g(),a&&!o.options.keepOpen&&(o.$source_element.children("option").not(":selected").not('[value=""]').remove(),b(),S()),o.options.keepOpen||S()},O=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};o.refresh=function(){x()},o.hideDropdown=function(){S()},o.removeSelection=function(){var e=o.$container_element.find("."+o.options.prefix+"selected_item").data("source_item_element");if(e.removeAttribute("selected"),e.selected=!1,s&&o.$source_element.find('[value=""]').length){var t=o.$source_element.find('[value=""]')[0];t.setAttribute("selected",""),t.selected=!0}o.$source_element.trigger("change"),w(o.usefilterResults),b(),x(),S()},o.destroy=function(){o.$container_element.remove(),e.removeData(t,"selectee"),o.$source_element.show(),0===e("."+o.options.prefix+"element").length&&o.$mask_element.remove()},o.init()},e.fn.selectee=function(t){var n=void 0!==t?t:{};return this.each((function(){var t=e(this);if("object"==typeof n){if(void 0===t.data("selectee")){var i=new e.selectee(this,n);t.data("selectee",i)}}else t.data("selectee")[n]?t.data("selectee")[n].apply(this,Array.prototype.slice.call(arguments,1)):e.error("Method "+n+" does not exist in $.selectee")}))}}(jQuery),$((function(){"use strict";$(".selectee").each((function(){var e=$(this),t={};$.each(e.data(),(function(e,n){"selectee"===e.substring(0,10)&&(t[e.substring(10,11).toLowerCase()+e.substring(11)]=n)})),e.selectee(t)}))}));